{"version":3,"sources":["webpack:///./src/views/register/Register.vue","webpack:///./src/views/register/Register.vue?4187","webpack:///./src/views/log/Log.vue","webpack:///./src/views/log/Log.vue?512b","webpack:///./src/views/register/Register.vue?6242"],"names":["class","type","username","placeholder","password","ensurepassword","handleRegisterClick","handleLoginClick","toastDate","toastDisplay","msg","toastmsg","showToast","router","data","result","errno","push","name","components","Toast","setup","render","__scopeId"],"mappings":"2MACOA,MAAM,W,GACJA,MAAM,iB,GACJA,MAAM,2B,EACT,eAAiE,OAA5DA,MAAM,yCAAwC,KAAQ,G,GAOxDA,MAAM,2B,EACT,eAAiE,OAA5DA,MAAM,yCAAwC,KAAQ,G,GAQxDA,MAAM,kC,EACT,eAAiE,OAA5DA,MAAM,yCAAwC,KAAQ,G,EAO7D,eAGM,OAHDA,MAAM,6BAA2B,CACpC,eAAqE,SAA9DA,MAAM,sCAAsCC,KAAK,aACxD,eAAmD,KAAhDD,MAAM,mCAAkC,U,KAK/C,eAAgC,OAA3BA,MAAM,gBAAc,S,kIAlC3B,eAmCM,MAnCN,EAmCM,CAlCJ,eAgCM,MAhCN,EAgCM,CA/BJ,eAOM,MAPN,EAOM,CANJ,E,eACA,eAIE,SAHAA,MAAM,iC,qDACG,EAAAE,SAAQ,IACjBC,YAAY,U,mBADH,EAAAD,cAIb,eAQM,MARN,EAQM,CAPJ,E,eACA,eAKE,SAJAF,MAAM,iCACNC,KAAK,W,qDACI,EAAAG,SAAQ,IACjBD,YAAY,S,mBADH,EAAAC,cAIb,eAOM,MAPN,EAOM,CANJ,E,eACA,eAIE,SAHAJ,MAAM,iCACNC,KAAK,W,qDAAoB,EAAAI,eAAc,IACvCF,YAAY,S,mBADa,EAAAE,oBAI7B,EAIA,eAAmF,OAA9EL,MAAM,6BAA8B,QAAK,8BAAE,EAAAM,qBAAA,EAAAA,oBAAA,sBAAqB,YACrE,eAA6E,OAAxEN,MAAM,yBAA0B,QAAK,8BAAE,EAAAO,kBAAA,EAAAA,iBAAA,sBAAkB,eAEhE,IAEW,EAAAC,UAAUC,c,iBAAvB,eAAiE,G,MAA3BC,IAAK,EAAAF,UAAUG,U,2GASjD,EAAoB,SAACC,GACzB,IAAMC,EAAS,iBACTC,EAAO,eAAS,CAAEZ,SAAU,GAAIE,SAAU,GAAIC,eAAgB,KAC9DC,EAAkB,yDAAI,6HAGH,eAAK,sBAAuB,CAC/CJ,SAAUA,EACVE,SAAUA,EACVC,eAAgBA,IANM,OAGlBU,EAHkB,OASF,KAAZ,OAANA,QAAM,IAANA,OAAA,EAAAA,EAAQC,OACVH,EAAOI,KAAK,CAAEC,KAAM,UAGpBN,EAAU,QAbY,mDAgBxBA,EAAU,QAhBc,yDAAJ,qDAHe,EAsBQ,eAAOE,GAA9CZ,EAtB+B,EAsB/BA,SAAUE,EAtBqB,EAsBrBA,SAAUC,EAtBW,EAsBXA,eAC5B,MAAO,CAAEH,WAAUE,WAAUC,iBAAgBC,wBAGzC,EAAiB,WACrB,IAAMO,EAAS,iBACTN,EAAmB,WACvBM,EAAOI,KAAK,CAAEC,KAAM,WAEtB,MAAO,CAAEX,qBAGI,GACbY,WAAY,CAAEC,QAAA,MACdF,KAAM,WACNG,MAHa,WAGJ,MAC0B,iBAAzBb,EADD,EACCA,UAAWI,EADZ,EACYA,UADZ,EAE6D,EAAkBA,GAA9EV,EAFD,EAECA,SAAUE,EAFX,EAEWA,SAAUC,EAFrB,EAEqBA,eAAgBC,EAFrC,EAEqCA,oBAFrC,EAGsB,IAArBC,EAHD,EAGCA,iBACR,MAAO,CAAEC,YAAWI,YAAWL,mBAAkBL,WAAUE,WAAUC,iBAAgBC,yB,UClFzF,EAAOgB,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB,gJCHA,GACbL,KAAM,MACNG,MAFa,cCFf,EAAOC,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB,kCCNf,W","file":"js/Log.25b4be31.js","sourcesContent":["<template>\r\n  <div class=\"wrapper\">\r\n    <div class=\"wrapper__main\">\r\n      <div class=\"wrapper__main__username\">\r\n        <div class=\"wrapper__main__username__ico iconfont\">&#xe658;</div>\r\n        <input\r\n          class=\"wrapper__main__username__input\"\r\n          v-model=\"username\"\r\n          placeholder=\"请输入用户名\"\r\n        />\r\n      </div>\r\n      <div class=\"wrapper__main__password\">\r\n        <div class=\"wrapper__main__password__ico iconfont\">&#xe62b;</div>\r\n        <input\r\n          class=\"wrapper__main__password__input\"\r\n          type=\"password\"\r\n          v-model=\"password\"\r\n          placeholder=\"请输入密码\"\r\n        />\r\n      </div>\r\n      <div class=\"wrapper__main__password-ensure\">\r\n        <div class=\"wrapper__main__password__ico iconfont\">&#xe62b;</div>\r\n        <input\r\n          class=\"wrapper__main__password__input\"\r\n          type=\"password\" v-model=\"ensurepassword\"\r\n          placeholder=\"请确认密码\"\r\n        />\r\n      </div>\r\n      <div class=\"wrapper__main__checclause\">\r\n        <input class=\"wrapper__main__checclause__checkbox\" type=\"checkbox\" />\r\n        <p class=\"wrapper__main__checclause__text\">同意条款</p>\r\n      </div>\r\n      <div class=\"wrapper__main__registerbtn\" @click=\"handleRegisterClick\">Register</div>\r\n      <div class=\"wrapper__main__tologin\" @click=\"handleLoginClick\">若有账号请点此登录</div>\r\n    </div>\r\n    <div class=\"wrapper__pic\"></div>\r\n  </div>\r\n  <Toast v-if=\"toastDate.toastDisplay\" :msg=\"toastDate.toastmsg\" />\r\n</template>\r\n\r\n<script>\r\nimport { useRouter } from 'vue-router'\r\nimport { reactive, toRefs } from 'vue'\r\nimport { post } from '../../utils/request'\r\nimport Toast, { useToastEffect } from '../../components/Toast.vue'\r\n//  抽离注册相关逻辑\r\nconst useRegisterEffect = (showToast) => {\r\n  const router = useRouter()\r\n  const data = reactive({ username: '', password: '', ensurepassword: '' })\r\n  const handleRegisterClick = async () => {\r\n  //  用try catch语句捕获错误，防止因为请求出错导致的语句不继续执行\r\n    try {\r\n      const result = await post('/api/user/register1', {\r\n        username: username,\r\n        password: password,\r\n        ensurepassword: ensurepassword\r\n      })\r\n      //  用.?防止报错，因为errno 可能不存在\r\n      if (result?.errno === 0) {\r\n        router.push({ name: 'Login' })\r\n      } else {\r\n        // 注册失败->弹出toast->2s后消失\r\n        showToast('注册失败')\r\n      }\r\n    } catch (e) {\r\n      showToast('请求失败')\r\n    }\r\n  }\r\n  const { username, password, ensurepassword } = toRefs(data)\r\n  return { username, password, ensurepassword, handleRegisterClick }\r\n}\r\n// 抽离跳转到登录页面逻辑\r\nconst useLoginEffect = () => {\r\n  const router = useRouter()\r\n  const handleLoginClick = () => {\r\n    router.push({ name: 'Login' })\r\n  }\r\n  return { handleLoginClick }\r\n}\r\n\r\nexport default {\r\n  components: { Toast },\r\n  name: 'Register',\r\n  setup () {\r\n    const { toastDate, showToast } = useToastEffect()\r\n    const { username, password, ensurepassword, handleRegisterClick } = useRegisterEffect(showToast)\r\n    const { handleLoginClick } = useLoginEffect()\r\n    return { toastDate, showToast, handleLoginClick, username, password, ensurepassword, handleRegisterClick }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.wrapper {\r\n  display: flex;\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  margin-left:-4rem;\r\n  margin-top:-2.5rem;\r\n  width: 8rem;\r\n  height: 5rem;\r\n  box-shadow: 10px 5px 10px cadetblue;\r\n  &__main {\r\n    position: relative;\r\n    flex: 250;\r\n    background-color: #ccc;\r\n    &__username {\r\n      position: absolute;\r\n      left: .2rem;\r\n      top:1.3rem;\r\n      display: flex;\r\n      box-sizing: border-box;\r\n      width: 2rem;\r\n      height: .4rem;\r\n      background-color: #fff;\r\n      border-bottom: .02rem solid green;\r\n      &__ico {\r\n        width: .25rem;\r\n        height: .40rem;\r\n        line-height: .4rem;\r\n        font-size: .2rem;\r\n      }\r\n      &__input {\r\n        flex: 1;\r\n        box-sizing: border-box;\r\n        outline: none;\r\n        background: none;\r\n        border:none;\r\n        padding-right: 10px;\r\n      }\r\n    }\r\n    &__password {\r\n      position: absolute;\r\n      left: .2rem;\r\n      top:1.8rem;\r\n      display: flex;\r\n      box-sizing: border-box;\r\n      width: 2rem;\r\n      height: .4rem;\r\n      background-color: #fff;\r\n      border-bottom: .02rem solid green;\r\n      &__ico {\r\n        width: .25rem;\r\n        height: .40rem;\r\n        line-height: .4rem;\r\n        font-size: .2rem;\r\n      }\r\n      &__input {\r\n        flex: 1;\r\n        box-sizing: border-box;\r\n        outline: none;\r\n        background: none;\r\n        border:none;\r\n        padding-right: 10px;\r\n      }\r\n    }\r\n    &__password-ensure {\r\n      position: absolute;\r\n      left: .2rem;\r\n      top:2.3rem;\r\n      display: flex;\r\n      box-sizing: border-box;\r\n      width: 2rem;\r\n      height: .4rem;\r\n      background-color: #fff;\r\n      border-bottom: .02rem solid green;\r\n      &__ico {\r\n        width: .25rem;\r\n        height: .40rem;\r\n        line-height: .4rem;\r\n        font-size: .2rem;\r\n      }\r\n      &__input {\r\n        flex: 1;\r\n        box-sizing: border-box;\r\n        outline: none;\r\n        background: none;\r\n        border:none;\r\n        padding-right: 10px;\r\n      }\r\n    }\r\n    &__checclause {\r\n      position: absolute;\r\n      right: 1.3rem;\r\n      bottom: 1.85rem;\r\n      display: flex;\r\n      width: 1rem;\r\n      &__checkbox {\r\n      display: inline-block;\r\n      margin: auto .02rem auto 0.05rem;\r\n      }\r\n      &__text {\r\n        flex: 1;\r\n        text-align: center;\r\n        text-decoration: underline;\r\n        font-size: .12rem;\r\n      }\r\n    }\r\n    &__registerbtn {\r\n      position: absolute;\r\n      right: 0.3rem;\r\n      bottom: 1.9rem;\r\n      padding: 0 .1rem;\r\n      height: 0.32rem;\r\n      line-height: .32rem;\r\n      border-radius: .2rem;\r\n      text-align: center;\r\n      background-color: cadetblue;\r\n      color: #fff;\r\n      &:hover {\r\n        cursor: pointer;\r\n        box-shadow: 2px 2px 2px black;\r\n      }\r\n    }\r\n    &__tologin {\r\n      position: absolute;\r\n      bottom: .1rem;\r\n      right: .1rem;\r\n      font-size: .12rem;\r\n      &:hover {\r\n        cursor: pointer;\r\n      }\r\n    }\r\n  }\r\n  &__pic {\r\n    flex: 550;\r\n    background-color: #fff;\r\n  }\r\n}\r\n\r\n</style>\r\n","import { render } from \"./Register.vue?vue&type=template&id=dee19c82&scoped=true\"\nimport script from \"./Register.vue?vue&type=script&lang=js\"\nexport * from \"./Register.vue?vue&type=script&lang=js\"\n\nimport \"./Register.vue?vue&type=style&index=0&id=dee19c82&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-dee19c82\"\n\nexport default script","<template>\r\nLog page\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'Log',\r\n  setup () {}\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n</style>\r\n","import { render } from \"./Log.vue?vue&type=template&id=d16c299c&scoped=true\"\nimport script from \"./Log.vue?vue&type=script&lang=js\"\nexport * from \"./Log.vue?vue&type=script&lang=js\"\nscript.render = render\nscript.__scopeId = \"data-v-d16c299c\"\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Register.vue?vue&type=style&index=0&id=dee19c82&lang=scss&scoped=true\""],"sourceRoot":""}